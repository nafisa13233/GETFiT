
@model  IEnumerable<GETFiT.Models.Appointment>

@{
    ViewBag.Title = "Appointments";
}





<div class="container">

    @if (Model.Count() == 0)
    {
        <h3 class="m-3 text-center">You have no appointment history</h3>
    }
    else
    {
        <h2 class="text-center">Appointments</h2>
        <div class="row justify-content-center">

            <div class="table-responsive">
                <table id="myTable" class="table table-hover">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Trainer Name</th>
                            <th scope="col">Date & Time</th>
                            <th scope="col">Email</th>
                        </tr>
                    </thead>

                    @foreach (var ap in Model)
                    {
                        if (ap.client != null)
                        {

                            var time = ap.AppointmentTime.ToString("dd-MMMM-yy hh:mm tt");

                <tr>
                    <th scope="row">@ap.AppointmentId</th>
                    <td> @ap.trainer.User.Name</td>
                    <td>@time</td>
                    <td>@ap.trainer.User.Email</td>

                    
                </tr>

                        }
                    }

                </table>
            </div>

           
        </div>
    }


</div>


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.4/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.html5.min.js"></script>
    <script src="~/Scripts/jquery-ui-1.12.1.js"></script>

    <script type="text/javascript">

        $(document).ready(function () {

            $('#myTable').DataTable(
                {
                    responsive: true,
                    autoWidth: true,
                });



        });
    </script>

}



